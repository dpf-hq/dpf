<?xml version="1.0" encoding="ASCII"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:core="http://no.hib.dpf.core" xmlns:diagram="http://no.hib.dpf.diagram">
  <diagram:DSignature signature="/1">
    <dPredicates id="62d957dd-2fc7-44b0-ae4e-e4311d3634bd" predicate="294b94d8-88a0-4360-82e7-639887485f49">
      <dGraph graph="/1/@predicates.0/@shape">
        <dType href="platform:/resource/DefaultDSpecification.dpf#//@dGraph"/>
        <dNodes id="7f578357-9c61-4e7e-b95a-8aaadb8f53be" node="1366cf18-0c1d-4401-b15b-96dac99c7d1a" dOutgoings="0991cedc-5058-4ee7-97c6-48e9bae88f34" location="65 79" size="102 42"/>
        <dNodes id="fbf4ab9d-9b1e-4813-9570-e8ba73946f7b" node="e6d5188b-e0da-4563-b825-accb41844338" dIncomings="0991cedc-5058-4ee7-97c6-48e9bae88f34" location="236 77" size="102 42"/>
        <dArrows id="0991cedc-5058-4ee7-97c6-48e9bae88f34" arrow="5e51d157-6167-4fec-9c8e-3576cd017d66" dSource="7f578357-9c61-4e7e-b95a-8aaadb8f53be" dTarget="fbf4ab9d-9b1e-4813-9570-e8ba73946f7b">
          <nameOffset offset="60 -22" len="171"/>
        </dArrows>
      </dGraph>
      <visualization source="5e51d157-6167-4fec-9c8e-3576cd017d66"/>
    </dPredicates>
    <dPredicates id="10aabb4c-ed7f-4849-b69d-72e3596a302b" predicate="f23c4a7d-047e-4da5-b982-864eae225bbc">
      <dGraph graph="/1/@predicates.1/@shape">
        <dType href="platform:/resource/DefaultDSpecification.dpf#//@dGraph"/>
        <dNodes id="74a673f5-4856-492e-9838-3e23159356d7" node="6c05f3c4-d5d5-4f4f-a6de-d0e44eebad9d" dOutgoings="23bedd6c-343f-4dda-b557-f298f4bc251e ae736215-d4fb-42b2-b8c2-e8baf3d6998c" location="42 197" size="102 42"/>
        <dNodes id="b79f8b53-7a19-4953-bd22-3804a91fad17" node="632a4ace-a2da-4c7c-b83c-afb72732b482" dIncomings="ae736215-d4fb-42b2-b8c2-e8baf3d6998c" location="167 75" size="102 42"/>
        <dNodes id="7a287f0a-cf39-4c55-8543-ded0cbd64fd4" node="1ee0e1e4-ade9-4e8c-8795-99e66854b17b" dIncomings="23bedd6c-343f-4dda-b557-f298f4bc251e" location="231 234" size="102 42"/>
        <dArrows id="23bedd6c-343f-4dda-b557-f298f4bc251e" arrow="cdb7aa8b-516c-4d8f-85dd-eeb3f0c28088" dSource="74a673f5-4856-492e-9838-3e23159356d7" dTarget="7a287f0a-cf39-4c55-8543-ded0cbd64fd4">
          <nameOffset offset="68 19" len="192"/>
        </dArrows>
        <dArrows id="ae736215-d4fb-42b2-b8c2-e8baf3d6998c" arrow="f599b1ea-3a66-40de-af3d-08e13009eab5" dSource="74a673f5-4856-492e-9838-3e23159356d7" dTarget="b79f8b53-7a19-4953-bd22-3804a91fad17">
          <nameOffset offset="78 -34" len="174"/>
        </dArrows>
      </dGraph>
      <visualization type="ArrowToArrow" source="f599b1ea-3a66-40de-af3d-08e13009eab5" target="cdb7aa8b-516c-4d8f-85dd-eeb3f0c28088"/>
    </dPredicates>
    <dPredicates id="27f711f6-a169-45ae-b24b-1301f7ccb294" predicate="d75a2710-e578-414c-97d6-ef77a07ccbd0">
      <dGraph graph="/1/@predicates.2/@shape">
        <dType href="platform:/resource/DefaultDSpecification.dpf#//@dGraph"/>
        <dNodes id="214615ad-8e28-412e-89ff-f47242462d5e" node="e2f26212-b509-4ecb-ab19-cfe774ace873" dOutgoings="da33c039-0fbe-46fc-8770-67f26005ba8b" location="101 77" size="102 42"/>
        <dNodes id="d50f9095-412d-4609-90d4-513075ee44bb" node="922b2b3a-74cd-44fc-9c91-50353c1cb0fb" dIncomings="da33c039-0fbe-46fc-8770-67f26005ba8b" location="287 72" size="102 42"/>
        <dArrows id="da33c039-0fbe-46fc-8770-67f26005ba8b" arrow="d0b5f8c3-0a99-4c5a-96ae-481618ccbbe2" dSource="214615ad-8e28-412e-89ff-f47242462d5e" dTarget="d50f9095-412d-4609-90d4-513075ee44bb">
          <nameOffset offset="57 -32" len="186"/>
        </dArrows>
      </dGraph>
      <visualization source="d0b5f8c3-0a99-4c5a-96ae-481618ccbbe2"/>
    </dPredicates>
    <dPredicates id="ca38945a-d872-4210-9f14-8e6c3fa79c26" predicate="f2c58c58-c4b6-4e9d-8595-dbf1c7ff8af2">
      <dGraph graph="/1/@predicates.3/@shape">
        <dType href="platform:/resource/DefaultDSpecification.dpf#//@dGraph"/>
        <dNodes id="fc5f6d05-4024-4676-a0d7-c9ecfdcff18a" node="d467bf1a-2092-424d-9064-59dc95b674fc" dOutgoings="78063a3d-c120-407c-8a01-20c5e1f6afc9 567aeb80-3591-4543-9626-345e58ffbd6a" location="102 92" size="102 42"/>
        <dNodes id="b4fac20a-f827-4afe-be44-788b3e9ce24b" node="939e8bd2-7e90-4709-9dbd-5ef57e82d223" dIncomings="78063a3d-c120-407c-8a01-20c5e1f6afc9" location="299 34" size="102 42"/>
        <dNodes id="1a69a5c9-0ee9-4d70-b657-91ac00f6a53b" node="bd88224f-a99f-4e82-b8b6-91fca179d8ab" dIncomings="567aeb80-3591-4543-9626-345e58ffbd6a" location="299 154" size="101 42"/>
        <dArrows id="78063a3d-c120-407c-8a01-20c5e1f6afc9" arrow="956f8155-08c5-474e-831e-d27e18b6d3e9" dSource="fc5f6d05-4024-4676-a0d7-c9ecfdcff18a" dTarget="b4fac20a-f827-4afe-be44-788b3e9ce24b">
          <nameOffset offset="80 -38" len="205"/>
        </dArrows>
        <dArrows id="567aeb80-3591-4543-9626-345e58ffbd6a" arrow="4c55c85b-5368-434c-97af-275e29e396a2" dSource="fc5f6d05-4024-4676-a0d7-c9ecfdcff18a" dTarget="1a69a5c9-0ee9-4d70-b657-91ac00f6a53b">
          <nameOffset offset="68 21" len="205"/>
        </dArrows>
      </dGraph>
      <visualization type="ArrowToArrow" source="956f8155-08c5-474e-831e-d27e18b6d3e9" target="4c55c85b-5368-434c-97af-275e29e396a2"/>
    </dPredicates>
    <dPredicates id="af7dd008-9d20-4aae-bae7-0438cdae8063" predicate="90fb9c63-1ece-49fe-b73f-264146707650">
      <dGraph graph="/1/@predicates.4/@shape">
        <dType href="platform:/resource/DefaultDSpecification.dpf#//@dGraph"/>
        <dNodes id="69755c35-a656-4deb-9b5c-5e8421050b59" node="8a4f8f86-e484-44f2-9704-6bd0e5bb91ef" dOutgoings="79796a0c-ac6d-45c9-a27b-77bf0b94cf40" dIncomings="79796a0c-ac6d-45c9-a27b-77bf0b94cf40" location="140 79" size="102 42"/>
        <dArrows id="79796a0c-ac6d-45c9-a27b-77bf0b94cf40" arrow="c8f6cd8b-ee05-451c-a47f-5faed4614dd9" dSource="69755c35-a656-4deb-9b5c-5e8421050b59" dTarget="69755c35-a656-4deb-9b5c-5e8421050b59">
          <nameOffset offset="10 -3" len="16"/>
          <bendpoints offset="-21 0" len="42"/>
          <bendpoints offset="-21 102" len="42"/>
          <bendpoints offset="63 102" len="42"/>
          <bendpoints offset="63 0" len="42"/>
        </dArrows>
      </dGraph>
      <visualization/>
    </dPredicates>
    <dPredicates id="7d04d6d6-d2df-4827-9063-a9e22bb4c172" predicate="93b19207-2775-45b4-bc4e-528bf40d8be2">
      <dGraph graph="/1/@predicates.5/@shape">
        <dType href="platform:/resource/DefaultDSpecification.dpf#//@dGraph"/>
        <dNodes id="e2a45217-4220-4cd0-afed-c8d8c3923243" node="2ff61b86-cce9-4de4-a64f-27ace8b9b5cf" dOutgoings="a8188a38-b8d6-4ee9-a6c5-0a9e715c1cc0" dIncomings="401ad80c-0608-4ab4-8504-48c17869bad3" location="85 80" size="102 42"/>
        <dNodes id="21d5d11c-b10e-4b93-898b-ade8cb3687b6" node="291c9f3b-8a27-4c7d-9468-a95f5fe01532" dOutgoings="401ad80c-0608-4ab4-8504-48c17869bad3" dIncomings="a8188a38-b8d6-4ee9-a6c5-0a9e715c1cc0" location="280 90" size="102 42"/>
        <dArrows id="a8188a38-b8d6-4ee9-a6c5-0a9e715c1cc0" arrow="e4e378d4-046d-42af-8176-7486e90c678f" dSource="e2a45217-4220-4cd0-afed-c8d8c3923243" dTarget="21d5d11c-b10e-4b93-898b-ade8cb3687b6">
          <nameOffset offset="60 -36" len="195"/>
        </dArrows>
        <dArrows id="401ad80c-0608-4ab4-8504-48c17869bad3" arrow="1b6b3882-a13a-4416-b9c6-6bbdd05f0705" dSource="21d5d11c-b10e-4b93-898b-ade8cb3687b6" dTarget="e2a45217-4220-4cd0-afed-c8d8c3923243">
          <nameOffset offset="-117 21" len="-196"/>
        </dArrows>
      </dGraph>
      <visualization type="ArrowToArrow" source="e4e378d4-046d-42af-8176-7486e90c678f" target="1b6b3882-a13a-4416-b9c6-6bbdd05f0705"/>
    </dPredicates>
    <dPredicates id="399681f7-a3c1-4b71-a50e-25696ad0dda6" predicate="e9eb5664-7359-4eea-8e5b-7ac2f296b49d">
      <dGraph graph="/1/@predicates.6/@shape">
        <dType href="platform:/resource/DefaultDSpecification.dpf#//@dGraph"/>
        <dNodes id="d7a12ac1-7f5f-4ea0-b98f-b0234136056d" node="17ed2385-4994-4760-9629-92563ffa4eea" dOutgoings="1ef08bc5-bf04-4239-8cad-7841043f50ee" location="57 89" size="102 42"/>
        <dNodes id="c37b4f3b-f4d5-4be8-bef5-baf8a093c2ee" node="eed53498-7d89-4e60-baa6-4ba759038443" dIncomings="1ef08bc5-bf04-4239-8cad-7841043f50ee" location="235 90" size="102 42"/>
        <dArrows id="1ef08bc5-bf04-4239-8cad-7841043f50ee" arrow="4fa7c16c-d5bd-499f-a5ee-923a4dc5eb36" dSource="d7a12ac1-7f5f-4ea0-b98f-b0234136056d" dTarget="c37b4f3b-f4d5-4be8-bef5-baf8a093c2ee">
          <nameOffset offset="65 -26" len="178"/>
        </dArrows>
      </dGraph>
      <visualization source="4fa7c16c-d5bd-499f-a5ee-923a4dc5eb36"/>
    </dPredicates>
  </diagram:DSignature>
  <core:Signature>
    <predicates id="294b94d8-88a0-4360-82e7-639887485f49" symbol="surjective">
      <shape name="Default name">
        <type href="platform:/resource/DefaultSpecification.xmi#//@graph"/>
        <nodes id="1366cf18-0c1d-4401-b15b-96dac99c7d1a" name="X" outgoings="5e51d157-6167-4fec-9c8e-3576cd017d66"/>
        <nodes id="e6d5188b-e0da-4563-b825-accb41844338" name="Y" incomings="5e51d157-6167-4fec-9c8e-3576cd017d66"/>
        <arrows id="5e51d157-6167-4fec-9c8e-3576cd017d66" name="XY" source="1366cf18-0c1d-4401-b15b-96dac99c7d1a" target="e6d5188b-e0da-4563-b825-accb41844338"/>
      </shape>
      <validator type="JAVA" validator="import java.util.*; &#xA;&#xA;import no.hib.dpf.core.Arrow; &#xA;import no.hib.dpf.core.Graph; &#xA;import no.hib.dpf.core.Node; &#xA;import no.hib.dpf.core.impl.Checker; &#xA;public class CheckInstance implements Checker { &#xA;&#x9;public boolean check(Map&lt;String, String> maps, Graph shape, Map&lt;Node, List&lt;Node>> nodeMap, Map&lt;Arrow, List&lt;Arrow>> arrowMap) { &#xA;&#x9;&#x9;&#xA;&#x9;&#x9;List&lt;Node> yNodes = nodeMap.get(shape.getNodeByName(&quot;Y&quot;)); &#xA;&#x9;&#x9;List&lt;Arrow> arrows = arrowMap.get(shape.getArrows().get(0)); &#xA;&#x9;&#x9;List&lt;Node> visitedY = new ArrayList&lt;Node>(); &#xA;&#x9;&#x9;if(arrows != null){&#xA;&#x9;&#x9;&#x9;for(Arrow arrow : arrows){&#xA;&#x9;&#x9;&#x9;&#x9;if (!visitedY.contains(arrow.getTarget())) &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;visitedY.add(arrow.getTarget()); &#xA;&#x9;&#x9;&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#x9;&#x9;&#xA;&#x9;&#x9;if (yNodes != null &amp;&amp; visitedY.size() != yNodes.size()){&#xA;&#x9;&#x9;&#x9;for(Node node : yNodes){&#xA;&#x9;&#x9;&#x9;&#x9;if(!visitedY.contains(node))&#xA;&#x9;&#x9;&#x9;&#x9;System.out.println(&quot;Node &quot; + node.getName() + &quot; Violated Surjective Constraint&quot;);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;return false; &#xA;&#x9;&#x9;} &#xA;&#x9;&#x9;return true; &#xA;&#x9;} &#xA;}"/>
    </predicates>
    <predicates id="f23c4a7d-047e-4da5-b982-864eae225bbc" symbol="xor">
      <shape name="Default name">
        <type href="platform:/resource/DefaultSpecification.xmi#//@graph"/>
        <nodes id="6c05f3c4-d5d5-4f4f-a6de-d0e44eebad9d" name="Z" outgoings="cdb7aa8b-516c-4d8f-85dd-eeb3f0c28088 f599b1ea-3a66-40de-af3d-08e13009eab5"/>
        <nodes id="632a4ace-a2da-4c7c-b83c-afb72732b482" name="X" incomings="f599b1ea-3a66-40de-af3d-08e13009eab5"/>
        <nodes id="1ee0e1e4-ade9-4e8c-8795-99e66854b17b" name="Y" incomings="cdb7aa8b-516c-4d8f-85dd-eeb3f0c28088"/>
        <arrows id="cdb7aa8b-516c-4d8f-85dd-eeb3f0c28088" name="ZY" source="6c05f3c4-d5d5-4f4f-a6de-d0e44eebad9d" target="1ee0e1e4-ade9-4e8c-8795-99e66854b17b"/>
        <arrows id="f599b1ea-3a66-40de-af3d-08e13009eab5" name="ZX" source="6c05f3c4-d5d5-4f4f-a6de-d0e44eebad9d" target="632a4ace-a2da-4c7c-b83c-afb72732b482"/>
      </shape>
      <validator type="JAVA" validator="import java.util.*; &#xA;import java.util.Map.Entry;&#xA;&#xA;import no.hib.dpf.core.Arrow; &#xA;import no.hib.dpf.core.Graph; &#xA;import no.hib.dpf.core.Node; &#xA;import no.hib.dpf.core.impl.Checker; &#xA;public class CheckInstance implements Checker { &#xA;&#x9;public boolean check(Map&lt;String, String> maps, Graph shape, Map&lt;Node, List&lt;Node>> nodeMap, Map&lt;Arrow, List&lt;Arrow>> arrowMap) { &#xA;&#x9;&#x9;Map&lt;Node, List&lt;Arrow>> targetWithX = new HashMap&lt;Node, List&lt;Arrow>>();&#xA;&#x9;&#x9;Map&lt;Node, List&lt;Arrow>> violated = new HashMap&lt;Node, List&lt;Arrow>>();&#xA;&#x9;&#x9;List&lt;Node> visitedZ = new ArrayList&lt;Node>();&#xA;&#x9;&#x9;List&lt;Arrow> zx = arrowMap.get(shape.getArrowByName(&quot;ZX&quot;));&#xA;&#x9;&#x9;if(zx != null){ for(Arrow arrow : zx){&#xA;&#x9;&#x9;&#x9;&#x9;Node source = arrow.getSource();&#xA;&#x9;&#x9;&#x9;&#x9;if(!visitedZ.contains(source)) visitedZ.add(source);&#xA;&#x9;&#x9;&#x9;&#x9;List&lt;Arrow> value = targetWithX.containsKey(source) ? targetWithX.get(source) : new ArrayList&lt;Arrow>();&#xA;&#x9;&#x9;&#x9;&#x9;value.add(arrow); targetWithX.put(source, value);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;List&lt;Arrow> zy = arrowMap.get(shape.getArrowByName(&quot;ZY&quot;));&#xA;&#x9;&#x9;if(zy != null){&#xA;&#x9;&#x9;&#x9;for(Arrow arrow : zy){&#xA;&#x9;&#x9;&#x9;&#x9;Node source = arrow.getSource();&#xA;&#x9;&#x9;&#x9;&#x9;if(!visitedZ.contains(source)) visitedZ.add(source);&#xA;&#x9;&#x9;&#x9;&#x9;if(targetWithX.containsKey(source)){&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;List&lt;Arrow> value = violated.containsKey(source) ? violated.get(source) : new ArrayList&lt;Arrow>();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if(value.isEmpty()) value.addAll(targetWithX.get(source));&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;value.add(arrow); violated.put(source, value);&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;List&lt;Node> zNodes = nodeMap.get(shape.getNodeByName(&quot;Z&quot;));&#xA;&#x9;&#x9;if(zNodes != null){&#xA;&#x9;&#x9;&#x9;for(Node node : zNodes)&#xA;&#x9;&#x9;&#x9;&#x9;if(!visitedZ.contains(node)) violated.put(node, null);&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;if(violated.size() == 0) return true;&#xA;&#x9;&#x9;for(Entry&lt;Node, List&lt;Arrow>> entry : violated.entrySet()){&#xA;&#x9;&#x9;&#x9;System.out.println(entry.getKey().getName() + &quot; violates XOR constraint&quot;);&#xA;&#x9;&#x9;&#x9;if(entry.getValue() == null){&#xA;&#x9;&#x9;&#x9;&#x9;System.out.println(&quot;It has no outgoing arrows which has type homophomism to ZX or ZY&quot;);&#xA;&#x9;&#x9;&#x9;}else{&#xA;&#x9;&#x9;&#x9;&#x9;System.out.println(&quot;It has multiply typed outgoing arrows:&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;for(Arrow arrow : entry.getValue())&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;System.out.println(arrow.getSource().getName() + &quot;-->&quot; + arrow.getTarget().getName());&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;return false; &#xA;&#x9;} &#xA;}&#xA;"/>
    </predicates>
    <predicates id="d75a2710-e578-414c-97d6-ef77a07ccbd0" symbol="injective">
      <shape name="Default name">
        <type href="platform:/resource/DefaultSpecification.xmi#//@graph"/>
        <nodes id="e2f26212-b509-4ecb-ab19-cfe774ace873" name="X" outgoings="d0b5f8c3-0a99-4c5a-96ae-481618ccbbe2"/>
        <nodes id="922b2b3a-74cd-44fc-9c91-50353c1cb0fb" name="Y" incomings="d0b5f8c3-0a99-4c5a-96ae-481618ccbbe2"/>
        <arrows id="d0b5f8c3-0a99-4c5a-96ae-481618ccbbe2" name="XY" source="e2f26212-b509-4ecb-ab19-cfe774ace873" target="922b2b3a-74cd-44fc-9c91-50353c1cb0fb"/>
      </shape>
      <validator type="JAVA" validator="import java.util.*; &#xA;import java.util.Map.Entry;&#xA;&#xA;import no.hib.dpf.core.Arrow; &#xA;import no.hib.dpf.core.Graph; &#xA;import no.hib.dpf.core.Node; &#xA;import no.hib.dpf.core.impl.Checker; &#xA;public class CheckInstance implements Checker { &#xA;&#x9;public boolean check(Map&lt;String, String> maps, Graph shape, Map&lt;Node, List&lt;Node>> nodeMap, Map&lt;Arrow, List&lt;Arrow>> arrowMap) { &#xA;&#xA;&#x9;&#x9;List&lt;Arrow> arrows = arrowMap.get(shape.getArrowByName(&quot;XY&quot;)); &#xA;&#x9;&#x9;Map&lt;Node, List&lt;Arrow>> violated = new HashMap&lt;Node, List&lt;Arrow>>();&#xA;&#x9;&#x9;if(arrows != null){&#xA;&#x9;&#x9;&#x9;for(Arrow arrow : arrows){&#xA;&#x9;&#x9;&#x9;&#x9;Node target = arrow.getTarget();&#xA;&#x9;&#x9;&#x9;&#x9;List&lt;Arrow> value = violated.containsKey(target) ? violated.get(target) : new ArrayList&lt;Arrow>();&#xA;&#x9;&#x9;&#x9;&#x9;value.add(arrow);&#xA;&#x9;&#x9;&#x9;&#x9;violated.put(target, value);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;boolean result = true;&#xA;&#x9;&#x9;for(Entry&lt;Node, List&lt;Arrow>> entry : violated.entrySet())&#xA;&#x9;&#x9;&#x9;if(entry.getValue().size() > 1){&#xA;&#x9;&#x9;&#x9;&#x9;result = false;&#xA;&#x9;&#x9;&#x9;&#x9;System.out.println(entry.getKey().getName() + &quot; violates INJECTIVE constraint&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;System.out.println(&quot;It has multiply incoming arrows:&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;for(Arrow arrow : entry.getValue())&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;System.out.println(arrow.getSource().getName() + &quot;-->&quot; + arrow.getTarget().getName());&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;return result; &#xA;&#x9;} &#xA;}"/>
    </predicates>
    <predicates id="f2c58c58-c4b6-4e9d-8595-dbf1c7ff8af2" symbol="nand">
      <shape name="Default name">
        <type href="platform:/resource/DefaultSpecification.xmi#//@graph"/>
        <nodes id="d467bf1a-2092-424d-9064-59dc95b674fc" name="Z" outgoings="956f8155-08c5-474e-831e-d27e18b6d3e9 4c55c85b-5368-434c-97af-275e29e396a2"/>
        <nodes id="939e8bd2-7e90-4709-9dbd-5ef57e82d223" name="X" incomings="956f8155-08c5-474e-831e-d27e18b6d3e9"/>
        <nodes id="bd88224f-a99f-4e82-b8b6-91fca179d8ab" name="Y" incomings="4c55c85b-5368-434c-97af-275e29e396a2"/>
        <arrows id="956f8155-08c5-474e-831e-d27e18b6d3e9" name="ZX" source="d467bf1a-2092-424d-9064-59dc95b674fc" target="939e8bd2-7e90-4709-9dbd-5ef57e82d223"/>
        <arrows id="4c55c85b-5368-434c-97af-275e29e396a2" name="ZY" source="d467bf1a-2092-424d-9064-59dc95b674fc" target="bd88224f-a99f-4e82-b8b6-91fca179d8ab"/>
      </shape>
      <validator type="JAVA" validator="import java.util.*; &#xA;import java.util.Map.Entry;&#xA;import no.hib.dpf.core.Arrow; &#xA;import no.hib.dpf.core.Graph; &#xA;import no.hib.dpf.core.Node; &#xA;import no.hib.dpf.core.impl.Checker; &#xA;public class CheckInstance implements Checker { &#xA;&#x9;public boolean check(Map&lt;String, String> maps, Graph shape, Map&lt;Node, List&lt;Node>> nodeMap, Map&lt;Arrow, List&lt;Arrow>> arrowMap) { &#xA;&#x9;&#x9;Map&lt;Node, List&lt;Arrow>> targetWithX = new HashMap&lt;Node, List&lt;Arrow>>();&#xA;&#x9;&#x9;Map&lt;Node, List&lt;Arrow>> violated = new HashMap&lt;Node, List&lt;Arrow>>();&#xA;&#x9;&#x9;List&lt;Arrow> zx = arrowMap.get(shape.getArrowByName(&quot;ZX&quot;));&#xA;&#x9;&#x9;if(zx != null){&#xA;&#x9;&#x9;&#x9;for(Arrow arrow : zx){&#xA;&#x9;&#x9;&#x9;&#x9;Node source = arrow.getSource();&#xA;&#x9;&#x9;&#x9;&#x9;List&lt;Arrow> value = targetWithX.containsKey(source) ? targetWithX.get(source) : new ArrayList&lt;Arrow>();&#xA;&#x9;&#x9;&#x9;&#x9;value.add(arrow);&#xA;&#x9;&#x9;&#x9;&#x9;targetWithX.put(source, value);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;List&lt;Arrow> zy = arrowMap.get(shape.getArrowByName(&quot;ZY&quot;));&#xA;&#x9;&#x9;if(zy != null){&#xA;&#x9;&#x9;&#x9;for(Arrow arrow : zy){&#xA;&#x9;&#x9;&#x9;&#x9;Node source = arrow.getSource();&#xA;&#x9;&#x9;&#x9;&#x9;if(targetWithX.containsKey(source)){&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;List&lt;Arrow> value = violated.containsKey(source) ? violated.get(source) : new ArrayList&lt;Arrow>();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if(value.isEmpty())&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;value.addAll(targetWithX.get(source));&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;value.add(arrow);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;violated.put(source, value);&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;if(violated.size() == 0)&#xA;&#x9;&#x9;&#x9;return true;&#xA;&#x9;&#x9;for(Entry&lt;Node, List&lt;Arrow>> entry : violated.entrySet()){&#xA;&#x9;&#x9;&#x9;System.out.println(entry.getKey().getName() + &quot; violates NAND constraint&quot;);&#xA;&#x9;&#x9;&#x9;System.out.println(&quot;It has multiply typed outgoing arrows:&quot;);&#xA;&#x9;&#x9;&#x9;for(Arrow arrow : entry.getValue())&#xA;&#x9;&#x9;&#x9;&#x9;System.out.println(arrow.getSource().getName() + &quot;-->&quot; + arrow.getTarget().getName());&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;return false; &#xA;&#x9;} &#xA;}&#xA;"/>
    </predicates>
    <predicates id="90fb9c63-1ece-49fe-b73f-264146707650" symbol="irreflexive">
      <shape name="Default name">
        <type href="platform:/resource/DefaultSpecification.xmi#//@graph"/>
        <nodes id="8a4f8f86-e484-44f2-9704-6bd0e5bb91ef" name="X" outgoings="c8f6cd8b-ee05-451c-a47f-5faed4614dd9" incomings="c8f6cd8b-ee05-451c-a47f-5faed4614dd9"/>
        <arrows id="c8f6cd8b-ee05-451c-a47f-5faed4614dd9" name="XX" source="8a4f8f86-e484-44f2-9704-6bd0e5bb91ef" target="8a4f8f86-e484-44f2-9704-6bd0e5bb91ef"/>
      </shape>
      <validator type="JAVA" validator="import java.util.*;&#xA;&#xA;import no.hib.dpf.core.Arrow;&#xA;import no.hib.dpf.core.Graph;&#xA;import no.hib.dpf.core.Node;&#xA;import no.hib.dpf.core.impl.Checker;&#xA;&#xA;public class CheckInstance implements Checker {&#xA;&#x9;public boolean check(Map&lt;String, String> maps, Graph shape, Map&lt;Node, List&lt;Node>> nodeMap,&#xA;&#x9;&#x9;&#x9;Map&lt;Arrow, List&lt;Arrow>> arrowMap) {&#xA;&#x9;&#x9;List&lt;Arrow> violated = new ArrayList&lt;Arrow>();&#xA;&#x9;&#x9;List&lt;Arrow> xx = arrowMap.get(shape.getArrowByName(&quot;XX&quot;));&#xA;&#x9;&#x9;if (xx != null) &#xA;&#x9;&#x9;&#x9;for (Arrow arrow : xx)&#xA;&#x9;&#x9;&#x9;&#x9;if (arrow.getTarget() == arrow.getSource())&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;violated.add(arrow);&#xA;&#x9;&#x9;if (violated.size() == 0)&#xA;&#x9;&#x9;&#x9;return true;&#xA;&#x9;&#x9;for (Arrow entry : violated)&#xA;&#x9;&#x9;&#x9;System.out.println(entry.getName()&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;+ &quot; violates Irreflexive constraint. &quot;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;+ entry.getSource().getName() + &quot; goes back to itself.&quot;);&#xA;&#x9;&#x9;return false;&#xA;&#x9;}&#xA;}&#xA;"/>
    </predicates>
    <predicates id="93b19207-2775-45b4-bc4e-528bf40d8be2" symbol="inverse">
      <shape name="Default name">
        <type href="platform:/resource/DefaultSpecification.xmi#//@graph"/>
        <nodes id="2ff61b86-cce9-4de4-a64f-27ace8b9b5cf" name="X" outgoings="e4e378d4-046d-42af-8176-7486e90c678f" incomings="1b6b3882-a13a-4416-b9c6-6bbdd05f0705"/>
        <nodes id="291c9f3b-8a27-4c7d-9468-a95f5fe01532" name="Y" outgoings="1b6b3882-a13a-4416-b9c6-6bbdd05f0705" incomings="e4e378d4-046d-42af-8176-7486e90c678f"/>
        <arrows id="e4e378d4-046d-42af-8176-7486e90c678f" name="XY" source="2ff61b86-cce9-4de4-a64f-27ace8b9b5cf" target="291c9f3b-8a27-4c7d-9468-a95f5fe01532"/>
        <arrows id="1b6b3882-a13a-4416-b9c6-6bbdd05f0705" name="YX" source="291c9f3b-8a27-4c7d-9468-a95f5fe01532" target="2ff61b86-cce9-4de4-a64f-27ace8b9b5cf"/>
      </shape>
      <validator type="JAVA" validator="import java.util.ArrayList;&#xA;import java.util.HashMap;&#xA;import java.util.List;&#xA;import java.util.Map;&#xA;import no.hib.dpf.core.Arrow;&#xA;import no.hib.dpf.core.Graph;&#xA;import no.hib.dpf.core.Node;&#xA;import no.hib.dpf.core.impl.Checker;&#xA;&#xA;public class CheckInstance implements Checker {&#xA;&#x9;@Override&#xA;&#x9;public boolean check(Map&lt;String, String> maps, Graph graph, Map&lt;Node, List&lt;Node>> nodeMap,&#xA;&#x9;&#x9;&#x9;Map&lt;Arrow, List&lt;Arrow>> arrowMap) {&#xA;&#x9;&#x9;List&lt;Arrow> xy = arrowMap.get(graph.getArrowByName(&quot;XY&quot;));&#xA;&#x9;&#x9;Map&lt;Node, List&lt;Node>> visited = new HashMap&lt;Node, List&lt;Node>>();&#xA;&#x9;&#x9;if (xy != null) {&#xA;&#x9;&#x9;&#x9;for (Arrow arrow : xy) {&#xA;&#x9;&#x9;&#x9;&#x9;Node source = arrow.getSource();&#xA;&#x9;&#x9;&#x9;&#x9;List&lt;Node> value = visited.containsKey(source) ? visited&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;.get(source) : new ArrayList&lt;Node>();&#xA;&#x9;&#x9;&#x9;&#x9;if (!value.contains(arrow.getTarget()))&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;value.add(arrow.getTarget());&#xA;&#x9;&#x9;&#x9;&#x9;visited.put(source, value);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;List&lt;Arrow> yx = arrowMap.get(graph.getArrowByName(&quot;YX&quot;));&#xA;&#x9;&#x9;List&lt;Arrow> withXYArrow = new ArrayList&lt;Arrow>();&#xA;&#x9;&#x9;List&lt;Arrow> withoutXYArrow = new ArrayList&lt;Arrow>();&#xA;&#x9;&#x9;if (xy != null) {&#xA;&#x9;&#x9;&#x9;for (Arrow arrow : yx) {&#xA;&#x9;&#x9;&#x9;&#x9;Node target = arrow.getTarget();&#xA;&#x9;&#x9;&#x9;&#x9;Node source = arrow.getSource();&#xA;&#x9;&#x9;&#x9;&#x9;List&lt;Node> value = visited.get(target);// ? visited.get(source)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// : new&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// ArrayList&lt;Node>();&#xA;&#x9;&#x9;&#x9;&#x9;if (value == null)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;withoutXYArrow.add(arrow);&#xA;&#x9;&#x9;&#x9;&#x9;else if (!value.contains(source))&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;withXYArrow.add(arrow);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;if (withoutXYArrow.size() == 0 &amp;&amp; withXYArrow.size() == 0)&#xA;&#x9;&#x9;&#x9;return true;&#xA;&#x9;&#x9;for (Arrow arrow : withXYArrow)&#xA;&#x9;&#x9;&#x9;System.out&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;.println(arrow.getSource().getName()&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;+ &quot;-->&quot;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;+ arrow.getTarget().getName()&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;+ &quot;violate inverse constraint. It has no other direction relationship.&quot;);&#xA;&#x9;&#x9;for (Arrow arrow : withoutXYArrow)&#xA;&#x9;&#x9;&#x9;System.out&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;.println(arrow.getTarget().getName()&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;+ &quot;-->&quot;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;+ arrow.getSource().getName()&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;+ &quot;violate inverse constraint. It has no other direction relationship.&quot;);&#xA;&#x9;&#x9;return false;&#xA;&#x9;}&#xA;}"/>
    </predicates>
    <predicates id="e9eb5664-7359-4eea-8e5b-7ac2f296b49d" symbol="multi" parameters="min:0;max:1">
      <shape name="Default name">
        <type href="platform:/resource/DefaultSpecification.xmi#//@graph"/>
        <nodes id="cd61cd13-b5c4-4ac7-b543-135f67aac088" name="Y">
          <typeNode href="platform:/resource/DefaultGraph.xmi#//@nodes.0"/>
        </nodes>
        <nodes id="17ed2385-4994-4760-9629-92563ffa4eea" name="X" outgoings="4fa7c16c-d5bd-499f-a5ee-923a4dc5eb36"/>
        <nodes id="eed53498-7d89-4e60-baa6-4ba759038443" name="Y" incomings="4fa7c16c-d5bd-499f-a5ee-923a4dc5eb36"/>
        <arrows id="4fa7c16c-d5bd-499f-a5ee-923a4dc5eb36" name="XY" source="17ed2385-4994-4760-9629-92563ffa4eea" target="eed53498-7d89-4e60-baa6-4ba759038443"/>
      </shape>
      <validator type="JAVA" validator="import java.util.HashMap;&#xA;import java.util.List;&#xA;import java.util.Map;&#xA;import java.util.Map.Entry;&#xA;&#xA;import no.hib.dpf.core.Arrow;&#xA;import no.hib.dpf.core.Graph;&#xA;import no.hib.dpf.core.Node;&#xA;import no.hib.dpf.core.impl.Checker;&#xA;public class CheckInstance implements Checker{&#xA;&#x9;@Override&#xA;&#x9;public boolean check(Map&lt;String, String> maps, Graph graph, Map&lt;Node, List&lt;Node>> nodeMap,&#xA;&#x9;&#x9;&#x9;Map&lt;Arrow, List&lt;Arrow>> arrowMap) {&#xA;&#x9;&#x9;int min = Integer.parseInt(maps.get(&quot;min&quot;));&#xA;&#x9;&#x9;int max = Integer.parseInt(maps.get(&quot;max&quot;));&#xA;&#x9;&#x9;List&lt;Arrow> arrows = arrowMap.get(graph.getArrowByName(&quot;XY&quot;));&#xA;&#x9;&#x9;Map&lt;Node, Integer> record = new HashMap&lt;Node, Integer>();&#xA;&#x9;&#x9;if(arrows != null) {&#xA;&#x9;&#x9;&#x9;for (Arrow arrow : arrows) {&#xA;&#x9;&#x9;&#x9;&#x9;Node source = arrow.getSource();&#xA;&#x9;&#x9;&#x9;&#x9;Integer times = record.get(source);&#xA;&#x9;&#x9;&#x9;&#x9;record.put(source, times == null ? 1 : times + 1); &#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;List&lt;Node> nodes = nodeMap.get(graph.getNodeByName(&quot;X&quot;));&#xA;&#x9;&#x9;if(nodes != null){&#xA;&#x9;&#x9;&#x9;for(Node node : nodes)&#xA;&#x9;&#x9;&#x9;&#x9;if(!record.containsKey(node))&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;record.put(node, 0);&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;boolean result = true;&#xA;&#x9;&#x9;for(Entry&lt;Node, Integer>  entry : record.entrySet()){&#xA;&#x9;&#x9;&#x9;Integer value = entry.getValue();&#xA;&#x9;&#x9;&#x9;System.out.println(value);&#xA;&#x9;&#x9;&#x9;System.out.println(max);&#xA;&#x9;&#x9;&#x9;if(value &lt; min || value > max){&#xA;&#x9;&#x9;&#x9;&#x9;System.out.println(entry.getKey().getName() + &quot; has violates Multi[&quot; + min + &quot;,&quot; + max + &quot;] constraints. It has &quot; + value + &quot; outgoings.&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;result = false;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;return result;&#xA;&#x9;}&#xA;}"/>
    </predicates>
  </core:Signature>
</xmi:XMI>
